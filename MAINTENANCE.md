# Maintenance

This repo contains 100% auto-generated code! 

ðŸ›‘ DO NOT MODIFY ANY AUTO-GENERATED FILES IN THE CODE DIRECTORY [onshape_rest_api_client](onshape_rest_api_client). ðŸ›‘ 

Instead follow these instructions to regenerate the code using [openapi-python-client](https://github.com/openapi-generators/openapi-python-client):


## Regenerate Code
1. go to a temporary directory, e.g.

```
cd /tmp
```

2. [install openapi-python-client](https://github.com/openapi-generators/openapi-python-client?tab=readme-ov-file#installation)

3. run the generation command against onshape's latest openapi specification

```
openapi-python-client generate --url https://cad.onshape.com/api/openapi
```

4. replace the [onshape_rest_api_client](onshape_rest_api_client) directory with the new generated directory

5. compare existing [pyproject.toml](pyproject.toml) file with the newly generated file, and update as necessary.  The version of this project tracks with the Onshape API version;  the autogenerated version string is not compliant with PEP 440 so it is truncated.  For example, replace `1.210.71816-ae322898e27a` with `1.210`.

7. update [CHANGELOG.md](CHANGELOG.md) with details of regeneration

8. update the `base_url` in [README.md](README.md) if changed


## Building / publishing this package
This project uses [Poetry](https://python-poetry.org/) to manage dependencies  and packaging.  Here are the basics:
1. Update the metadata in pyproject.toml (e.g. authors, version)
1. If you're using a private repository, configure it with Poetry
    1. `poetry config repositories.<your-repository-name> <url-to-your-repository>`
    1. `poetry config http-basic.<your-repository-name> <username> <password>`
1. Publish the client with `poetry publish --build -r <your-repository-name>` or, if for public PyPI, just `poetry publish --build`

If you want to install this client into another project without publishing it (e.g. for development) then:
1. If that project **is using Poetry**, you can simply do `poetry add <path-to-this-client>` from that project
1. If that project is not using Poetry:
    1. Build a wheel with `poetry build -f wheel`
    1. Install that wheel from the other project `pip install <path-to-wheel>`
